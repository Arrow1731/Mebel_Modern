{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///D:/Nebel_WebSite/V0__D/MEBEL_GOOO/Mebel_Modern/lib/firebase.ts"],"sourcesContent":["import { initializeApp } from 'firebase/app';\r\nimport { getFirestore } from 'firebase/firestore';\r\nimport { getStorage } from 'firebase/storage';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDzl9OP8Avxt6qvxI7H91RwA6SMwvEsfjg\",\r\n  authDomain: \"mebelweb-c3706.firebaseapp.com\",\r\n  projectId: \"mebelweb-c3706\",\r\n  storageBucket: \"mebelweb-c3706.firebasestorage.app\",\r\n  messagingSenderId: \"914008148864\",\r\n  appId: \"1:914008148864:web:36dbf5a4a738f8b72d8f65\"\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nexport const db = getFirestore(app);\r\nexport const storage = getStorage(app);\r\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;AACT;AAEA,MAAM,MAAM,IAAA,iMAAa,EAAC;AACnB,MAAM,KAAK,IAAA,iMAAY,EAAC;AACxB,MAAM,UAAU,IAAA,kNAAU,EAAC"}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///D:/Nebel_WebSite/V0__D/MEBEL_GOOO/Mebel_Modern/app/orders/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\r\nimport { useState, useEffect } from 'react';\r\nimport { useParams } from 'next/navigation';\r\nimport { doc, onSnapshot } from 'firebase/firestore';\r\nimport { db } from '@/lib/firebase';\r\nimport { Order } from '@/lib/types';\r\nimport { Button } from '@/components/ui/button';\r\n\r\nconst FIXED_MONTHS = ['Nov', 'Dec', 'Jan', 'Feb', 'Mar', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct'];\r\n\r\nexport default function OrderDetailPage() {\r\n  const params = useParams();\r\n  const orderId = params.id;\r\n  const [order, setOrder] = useState<Order | null>(null);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onSnapshot(doc(db, 'orders', orderId), (docSnap) => {\r\n      if (docSnap.exists()) {\r\n        const data = docSnap.data();\r\n        setOrder({\r\n          id: docSnap.id,\r\n          ...data,\r\n          payments: data.payments?.map((p: any) => ({ ...p, date: p.date?.toDate?.() || new Date() })),\r\n          createdAt: data.createdAt?.toDate?.() || new Date(),\r\n          dueDate: data.dueDate?.toDate?.() || new Date(),\r\n        });\r\n      }\r\n    });\r\n    return () => unsubscribe();\r\n  }, [orderId]);\r\n\r\n  if (!order) return <p>Loading…</p>;\r\n\r\n  const monthly = Math.round((Number(order.totalAmount) - Number(order.paidAmount || 0)) / ((order.creditMonths || 1) - (order.payments?.length || 0)));\r\n\r\n  return (\r\n    <main className=\"p-6\">\r\n      <h1 className=\"text-2xl font-bold mb-4\">{order.clientName} — To‘lov Tafsiloti</h1>\r\n      <p>Telefon: {order.clientPhone}</p>\r\n      <p>Manzil: {order.clientAddress}</p>\r\n\r\n      <table className=\"w-full text-sm mt-4 border\">\r\n        <thead className=\"bg-gray-100\">\r\n          <tr>\r\n            <th className=\"px-3 py-2\">Oy</th>\r\n            <th className=\"px-3 py-2\">To‘lov miqdori</th>\r\n            <th className=\"px-3 py-2\">Holat</th>\r\n            <th className=\"px-3 py-2\">Keyingi to‘lov sanasi</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {Array.from({ length: order.creditMonths || 0 }).map((_, i) => {\r\n            const monthLabel = FIXED_MONTHS[i];\r\n            const payment = order.payments?.find(p => p.monthIndex === i);\r\n            return (\r\n              <tr key={i} className={payment ? 'bg-green-50' : 'bg-yellow-50'}>\r\n                <td className=\"px-3 py-2\">{monthLabel}</td>\r\n                <td className=\"px-3 py-2\">{monthly.toLocaleString()} so‘m</td>\r\n                <td className=\"px-3 py-2\">{payment ? 'Paid ✓' : 'Pending'}</td>\r\n                <td className=\"px-3 py-2\">{!payment ? new Date(order.createdAt).toLocaleDateString() : ''}</td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </main>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAAA;AACA;AAJA;;;;;;AAQA,MAAM,eAAe;IAAC;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;CAAM;AAE5E,SAAS;IACtB,MAAM,SAAS,IAAA,+JAAS;IACxB,MAAM,UAAU,OAAO,EAAE;IACzB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iOAAQ,EAAe;IAEjD,IAAA,kOAAS,EAAC;QACR,MAAM,cAAc,IAAA,+LAAU,EAAC,IAAA,wLAAG,EAAC,qIAAE,EAAE,UAAU,UAAU,CAAC;YAC1D,IAAI,QAAQ,MAAM,IAAI;gBACpB,MAAM,OAAO,QAAQ,IAAI;gBACzB,SAAS;oBACP,IAAI,QAAQ,EAAE;oBACd,GAAG,IAAI;oBACP,UAAU,KAAK,QAAQ,EAAE,IAAI,CAAC,IAAW,CAAC;4BAAE,GAAG,CAAC;4BAAE,MAAM,EAAE,IAAI,EAAE,cAAc,IAAI;wBAAO,CAAC;oBAC1F,WAAW,KAAK,SAAS,EAAE,cAAc,IAAI;oBAC7C,SAAS,KAAK,OAAO,EAAE,cAAc,IAAI;gBAC3C;YACF;QACF;QACA,OAAO,IAAM;IACf,GAAG;QAAC;KAAQ;IAEZ,IAAI,CAAC,OAAO,qBAAO,8PAAC;kBAAE;;;;;;IAEtB,MAAM,UAAU,KAAK,KAAK,CAAC,CAAC,OAAO,MAAM,WAAW,IAAI,OAAO,MAAM,UAAU,IAAI,EAAE,IAAI,CAAC,CAAC,MAAM,YAAY,IAAI,CAAC,IAAI,CAAC,MAAM,QAAQ,EAAE,UAAU,CAAC,CAAC;IAEnJ,qBACE,8PAAC;QAAK,WAAU;;0BACd,8PAAC;gBAAG,WAAU;;oBAA2B,MAAM,UAAU;oBAAC;;;;;;;0BAC1D,8PAAC;;oBAAE;oBAAU,MAAM,WAAW;;;;;;;0BAC9B,8PAAC;;oBAAE;oBAAS,MAAM,aAAa;;;;;;;0BAE/B,8PAAC;gBAAM,WAAU;;kCACf,8PAAC;wBAAM,WAAU;kCACf,cAAA,8PAAC;;8CACC,8PAAC;oCAAG,WAAU;8CAAY;;;;;;8CAC1B,8PAAC;oCAAG,WAAU;8CAAY;;;;;;8CAC1B,8PAAC;oCAAG,WAAU;8CAAY;;;;;;8CAC1B,8PAAC;oCAAG,WAAU;8CAAY;;;;;;;;;;;;;;;;;kCAG9B,8PAAC;kCACE,MAAM,IAAI,CAAC;4BAAE,QAAQ,MAAM,YAAY,IAAI;wBAAE,GAAG,GAAG,CAAC,CAAC,GAAG;4BACvD,MAAM,aAAa,YAAY,CAAC,EAAE;4BAClC,MAAM,UAAU,MAAM,QAAQ,EAAE,KAAK,CAAA,IAAK,EAAE,UAAU,KAAK;4BAC3D,qBACE,8PAAC;gCAAW,WAAW,UAAU,gBAAgB;;kDAC/C,8PAAC;wCAAG,WAAU;kDAAa;;;;;;kDAC3B,8PAAC;wCAAG,WAAU;;4CAAa,QAAQ,cAAc;4CAAG;;;;;;;kDACpD,8PAAC;wCAAG,WAAU;kDAAa,UAAU,WAAW;;;;;;kDAChD,8PAAC;wCAAG,WAAU;kDAAa,CAAC,UAAU,IAAI,KAAK,MAAM,SAAS,EAAE,kBAAkB,KAAK;;;;;;;+BAJhF;;;;;wBAOb;;;;;;;;;;;;;;;;;;AAKV"}}]
}