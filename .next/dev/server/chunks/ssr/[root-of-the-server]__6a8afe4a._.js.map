{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 13, "column": 0}, "map": {"version":3,"sources":["file:///D:/Nebel_WebSite/V0__D/MEBEL_GOOO/Mebel_Modern/app/orders/%5Bid%5D/page.tsx"],"sourcesContent":["// 'use client';\r\n// import { useState, useEffect } from 'react';\r\n// import { useParams } from 'next/navigation';\r\n// import { doc, onSnapshot } from 'firebase/firestore';\r\n// import { db } from '@/lib/firebase';\r\n// import { Order } from '@/lib/types';\r\n// import { Button } from '@/components/ui/button';\r\n\r\n// const FIXED_MONTHS = ['Nov', 'Dec', 'Jan', 'Feb', 'Mar', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct'];\r\n\r\n// export default function OrderDetailPage() {\r\n//   const params = useParams();\r\n//   const orderId = params.id;\r\n//   const [order, setOrder] = useState<Order | null>(null);\r\n\r\n//   useEffect(() => {\r\n//     const unsubscribe = onSnapshot(doc(db, 'orders', orderId), (docSnap) => {\r\n//       if (docSnap.exists()) {\r\n//         const data = docSnap.data();\r\n//         setOrder({\r\n//           id: docSnap.id,\r\n//           ...data,\r\n//           payments: data.payments?.map((p: any) => ({ ...p, date: p.date?.toDate?.() || new Date() })),\r\n//           createdAt: data.createdAt?.toDate?.() || new Date(),\r\n//           dueDate: data.dueDate?.toDate?.() || new Date(),\r\n//         });\r\n//       }\r\n//     });\r\n//     return () => unsubscribe();\r\n//   }, [orderId]);\r\n\r\n//   if (!order) return <p>Loading…</p>;\r\n\r\n//   const monthly = Math.round((Number(order.totalAmount) - Number(order.paidAmount || 0)) / ((order.creditMonths || 1) - (order.payments?.length || 0)));\r\n\r\n//   return (\r\n//     <main className=\"p-6\">\r\n//       <h1 className=\"text-2xl font-bold mb-4\">{order.clientName} — To‘lov Tafsiloti</h1>\r\n//       <p>Telefon: {order.clientPhone}</p>\r\n//       <p>Manzil: {order.clientAddress}</p>\r\n\r\n//       <table className=\"w-full text-sm mt-4 border\">\r\n//         <thead className=\"bg-gray-100\">\r\n//           <tr>\r\n//             <th className=\"px-3 py-2\">Oy</th>\r\n//             <th className=\"px-3 py-2\">To‘lov miqdori</th>\r\n//             <th className=\"px-3 py-2\">Holat</th>\r\n//             <th className=\"px-3 py-2\">Keyingi to‘lov sanasi</th>\r\n//           </tr>\r\n//         </thead>\r\n//         <tbody>\r\n//           {Array.from({ length: order.creditMonths || 0 }).map((_, i) => {\r\n//             const monthLabel = FIXED_MONTHS[i];\r\n//             const payment = order.payments?.find(p => p.monthIndex === i);\r\n//             return (\r\n//               <tr key={i} className={payment ? 'bg-green-50' : 'bg-yellow-50'}>\r\n//                 <td className=\"px-3 py-2\">{monthLabel}</td>\r\n//                 <td className=\"px-3 py-2\">{monthly.toLocaleString()} so‘m</td>\r\n//                 <td className=\"px-3 py-2\">{payment ? 'Paid ✓' : 'Pending'}</td>\r\n//                 <td className=\"px-3 py-2\">{!payment ? new Date(order.createdAt).toLocaleDateString() : ''}</td>\r\n//               </tr>\r\n//             );\r\n//           })}\r\n//         </tbody>\r\n//       </table>\r\n//     </main>\r\n//   );\r\n// }"],"names":[],"mappings":"AAAA,gBAAgB;AAChB,+CAA+C;AAC/C,+CAA+C;AAC/C,wDAAwD;AACxD,uCAAuC;AACvC,uCAAuC;AACvC,mDAAmD;AAEnD,+FAA+F;AAE/F,8CAA8C;AAC9C,gCAAgC;AAChC,+BAA+B;AAC/B,4DAA4D;AAE5D,sBAAsB;AACtB,gFAAgF;AAChF,gCAAgC;AAChC,uCAAuC;AACvC,qBAAqB;AACrB,4BAA4B;AAC5B,qBAAqB;AACrB,0GAA0G;AAC1G,iEAAiE;AACjE,6DAA6D;AAC7D,cAAc;AACd,UAAU;AACV,UAAU;AACV,kCAAkC;AAClC,mBAAmB;AAEnB,wCAAwC;AAExC,2JAA2J;AAE3J,aAAa;AACb,6BAA6B;AAC7B,2FAA2F;AAC3F,4CAA4C;AAC5C,6CAA6C;AAE7C,uDAAuD;AACvD,0CAA0C;AAC1C,iBAAiB;AACjB,gDAAgD;AAChD,4DAA4D;AAC5D,mDAAmD;AACnD,mEAAmE;AACnE,kBAAkB;AAClB,mBAAmB;AACnB,kBAAkB;AAClB,6EAA6E;AAC7E,kDAAkD;AAClD,6EAA6E;AAC7E,uBAAuB;AACvB,kFAAkF;AAClF,8DAA8D;AAC9D,iFAAiF;AACjF,kFAAkF;AAClF,kHAAkH;AAClH,sBAAsB;AACtB,iBAAiB;AACjB,gBAAgB;AAChB,mBAAmB;AACnB,iBAAiB;AACjB,cAAc;AACd,OAAO;AACP,IAAI"}}]
}