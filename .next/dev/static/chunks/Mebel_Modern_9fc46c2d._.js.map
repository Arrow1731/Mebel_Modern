{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Nebel_WebSite/V0__D/MEBEL_GOOO/Mebel_Modern/lib/firebase.ts"],"sourcesContent":["import { initializeApp } from 'firebase/app';\r\nimport { getFirestore } from 'firebase/firestore';\r\nimport { getStorage } from 'firebase/storage';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDzl9OP8Avxt6qvxI7H91RwA6SMwvEsfjg\",\r\n  authDomain: \"mebelweb-c3706.firebaseapp.com\",\r\n  projectId: \"mebelweb-c3706\",\r\n  storageBucket: \"mebelweb-c3706.firebasestorage.app\",\r\n  messagingSenderId: \"914008148864\",\r\n  appId: \"1:914008148864:web:36dbf5a4a738f8b72d8f65\"\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nexport const db = getFirestore(app);\r\nexport const storage = getStorage(app);\r\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;AACT;AAEA,MAAM,MAAM,IAAA,oMAAa,EAAC;AACnB,MAAM,KAAK,IAAA,kMAAY,EAAC;AACxB,MAAM,UAAU,IAAA,8LAAU,EAAC"}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///D:/Nebel_WebSite/V0__D/MEBEL_GOOO/Mebel_Modern/app/credit-payments/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { collection, onSnapshot } from 'firebase/firestore';\r\nimport { db } from '@/lib/firebase';\r\nimport { Order } from '@/lib/types';\r\n\r\nexport default function CreditCustomersPage() {\r\n  const [customers, setCustomers] = useState<Order[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onSnapshot(collection(db, 'orders'), (snapshot) => {\r\n      const data = snapshot.docs.map((d) => ({\r\n        id: d.id,\r\n        ...d.data(),\r\n        createdAt: d.data().createdAt?.toDate?.() || new Date(),\r\n        dueDate: d.data().dueDate?.toDate?.() || new Date(),\r\n        payments: d.data().payments || [],\r\n      })) as Order[];\r\n      setCustomers(data);\r\n      setLoading(false);\r\n    });\r\n\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  const getDaysUntilDue = (date: Date) => {\r\n    const now = new Date();\r\n    const diff = new Date(date).getTime() - now.getTime();\r\n    return Math.ceil(diff / (1000 * 3600 * 24));\r\n  };\r\n\r\n  return (\r\n    <main className=\"min-h-screen p-4 sm:p-6 md:p-10 bg-gray-50\">\r\n      <h1 className=\"text-3xl font-bold mb-6 text-amber-900\">Kredit Mijozlar</h1>\r\n\r\n      {loading ? (\r\n        <p>Ma'lumot yuklanmoqda…</p>\r\n      ) : (\r\n        <div className=\"overflow-x-auto\">\r\n          <table className=\"min-w-full bg-white shadow rounded-lg overflow-hidden text-sm\">\r\n            <thead className=\"bg-gray-100\">\r\n              <tr>\r\n                <th className=\"px-4 py-3 text-left\">Mijoz</th>\r\n                <th className=\"px-4 py-3 text-left\">Telefon</th>\r\n                <th className=\"px-4 py-3 text-left\">Mahsulotlar</th>\r\n                <th className=\"px-4 py-3 text-left\">Jami Summa</th>\r\n                <th className=\"px-4 py-3 text-left\">To‘langan</th>\r\n                <th className=\"px-4 py-3 text-left\">Keyingi To‘lov</th>\r\n                <th className=\"px-4 py-3 text-left\">Holati</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {customers.map((c) => {\r\n                const daysLeft = getDaysUntilDue(c.dueDate);\r\n                const isUrgent = daysLeft <= 3;\r\n\r\n                return (\r\n                  <tr key={c.id} className={`${isUrgent ? 'bg-red-100' : ''} border-b`}>\r\n                    <td className=\"px-4 py-2\">{c.clientName}</td>\r\n                    <td className=\"px-4 py-2\">{c.clientPhone}</td>\r\n                    <td className=\"px-4 py-2\">\r\n                      {c.products?.map((p: any) => `${p.productName} (${p.quantity})`).join(', ')}\r\n                    </td>\r\n                    <td className=\"px-4 py-2\">{Number(c.totalAmount).toLocaleString()} so‘m</td>\r\n                    <td className=\"px-4 py-2\">{Number(c.paidAmount || 0).toLocaleString()} so‘m</td>\r\n                    <td className=\"px-4 py-2\">{c.dueDate?.toLocaleDateString()}</td>\r\n                    <td className=\"px-4 py-2\">\r\n                      {isUrgent ? (\r\n                        <span className=\"bg-red-200 text-red-800 px-2 py-1 rounded-full\">{daysLeft} kun qoldi</span>\r\n                      ) : (\r\n                        <span className=\"bg-green-100 text-green-800 px-2 py-1 rounded-full\">Kutyapti</span>\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n    </main>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;;;AAJA;;;;AAOe,SAAS;;IACtB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yLAAQ,EAAU,EAAE;IACtD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yLAAQ,EAAC;IAEvC,IAAA,0LAAS;yCAAC;YACR,MAAM,cAAc,IAAA,gMAAU,EAAC,IAAA,gMAAU,EAAC,wIAAE,EAAE;6DAAW,CAAC;oBACxD,MAAM,OAAO,SAAS,IAAI,CAAC,GAAG;0EAAC,CAAC,IAAM,CAAC;gCACrC,IAAI,EAAE,EAAE;gCACR,GAAG,EAAE,IAAI,EAAE;gCACX,WAAW,EAAE,IAAI,GAAG,SAAS,EAAE,cAAc,IAAI;gCACjD,SAAS,EAAE,IAAI,GAAG,OAAO,EAAE,cAAc,IAAI;gCAC7C,UAAU,EAAE,IAAI,GAAG,QAAQ,IAAI,EAAE;4BACnC,CAAC;;oBACD,aAAa;oBACb,WAAW;gBACb;;YAEA;iDAAO,IAAM;;QACf;wCAAG,EAAE;IAEL,MAAM,kBAAkB,CAAC;QACvB,MAAM,MAAM,IAAI;QAChB,MAAM,OAAO,IAAI,KAAK,MAAM,OAAO,KAAK,IAAI,OAAO;QACnD,OAAO,KAAK,IAAI,CAAC,OAAO,CAAC,OAAO,OAAO,EAAE;IAC3C;IAEA,qBACE,6MAAC;QAAK,WAAU;;0BACd,6MAAC;gBAAG,WAAU;0BAAyC;;;;;;YAEtD,wBACC,6MAAC;0BAAE;;;;;qCAEH,6MAAC;gBAAI,WAAU;0BACb,cAAA,6MAAC;oBAAM,WAAU;;sCACf,6MAAC;4BAAM,WAAU;sCACf,cAAA,6MAAC;;kDACC,6MAAC;wCAAG,WAAU;kDAAsB;;;;;;kDACpC,6MAAC;wCAAG,WAAU;kDAAsB;;;;;;kDACpC,6MAAC;wCAAG,WAAU;kDAAsB;;;;;;kDACpC,6MAAC;wCAAG,WAAU;kDAAsB;;;;;;kDACpC,6MAAC;wCAAG,WAAU;kDAAsB;;;;;;kDACpC,6MAAC;wCAAG,WAAU;kDAAsB;;;;;;kDACpC,6MAAC;wCAAG,WAAU;kDAAsB;;;;;;;;;;;;;;;;;sCAGxC,6MAAC;sCACE,UAAU,GAAG,CAAC,CAAC;gCACd,MAAM,WAAW,gBAAgB,EAAE,OAAO;gCAC1C,MAAM,WAAW,YAAY;gCAE7B,qBACE,6MAAC;oCAAc,WAAW,GAAG,WAAW,eAAe,GAAG,SAAS,CAAC;;sDAClE,6MAAC;4CAAG,WAAU;sDAAa,EAAE,UAAU;;;;;;sDACvC,6MAAC;4CAAG,WAAU;sDAAa,EAAE,WAAW;;;;;;sDACxC,6MAAC;4CAAG,WAAU;sDACX,EAAE,QAAQ,EAAE,IAAI,CAAC,IAAW,GAAG,EAAE,WAAW,CAAC,EAAE,EAAE,EAAE,QAAQ,CAAC,CAAC,CAAC,EAAE,KAAK;;;;;;sDAExE,6MAAC;4CAAG,WAAU;;gDAAa,OAAO,EAAE,WAAW,EAAE,cAAc;gDAAG;;;;;;;sDAClE,6MAAC;4CAAG,WAAU;;gDAAa,OAAO,EAAE,UAAU,IAAI,GAAG,cAAc;gDAAG;;;;;;;sDACtE,6MAAC;4CAAG,WAAU;sDAAa,EAAE,OAAO,EAAE;;;;;;sDACtC,6MAAC;4CAAG,WAAU;sDACX,yBACC,6MAAC;gDAAK,WAAU;;oDAAkD;oDAAS;;;;;;qEAE3E,6MAAC;gDAAK,WAAU;0DAAqD;;;;;;;;;;;;mCAblE,EAAE,EAAE;;;;;4BAkBjB;;;;;;;;;;;;;;;;;;;;;;;AAOd;GA7EwB;KAAA"}}]
}